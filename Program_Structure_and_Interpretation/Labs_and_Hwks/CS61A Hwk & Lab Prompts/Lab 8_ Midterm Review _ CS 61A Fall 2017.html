<!DOCTYPE html>
<!-- saved from url=(0028)https://cs61a.org/lab/lab08/ -->
<html lang="en" class="gr__cs61a_org"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="CS 61A: Structure and Interpretation of Computer Programs">
    <meta name="keywords" content="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS">
    <meta name="author" content="John DeNero, Paul Hilfinger">
    
    <meta name="viewport" content="width=device-width">

    <script src="./Lab 8_ Midterm Review _ CS 61A Fall 2017_files/jquery.min.js.download"></script>
    <script src="./Lab 8_ Midterm Review _ CS 61A Fall 2017_files/bootstrap.min.js.download"></script>
    <script src="./Lab 8_ Midterm Review _ CS 61A Fall 2017_files/highlight.min.js.download"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2017_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2017_files/css">
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2017_files/style.css">
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2017_files/mono-blue.css">
    <link rel="icon" href="https://cs61a.org/assets/images/favicon.ico">

    

    <title>
Lab 8: Midterm Review | CS 61A Fall 2017
</title>
  </head>

  <body id="index" class="home" data-gr-c-s-loaded="true">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://cs61a.org/">CS 61A</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff.html">Staff</a></li>
            <li><a href="https://cs61a.org/resources.html">Resources</a></li>
            <li><a href="https://cs61a.org/articles/about.html">Policies</a></li>
            <li><a href="http://tutor.cs61a.org/">Tutor</a></li>
            <li><a href="https://piazza.com/berkeley/fall2017/cs61a" target="_blank">Piazza</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class="row">
  <div class="col-md-9">
    <header>
      <h1>
        
Lab 8: Midterm Review

        
        <ul class="inline-block list-inline">
          <li><a href="https://cs61a.org/lab/lab08/lab08.zip" class="label label-outline">lab08.zip</a></li>
        </ul>
        
      </h1>
    </header>
    

<p><i>Due at 11:59pm on Friday, 10/20/2017.</i></p>


<h2 id="starter-files">Starter Files</h2>


<p>Download <a href="https://cs61a.org/lab/lab08/lab08.zip">lab08.zip</a>.
Inside the archive, you will find starter files for the questions in this lab,
  along with a copy of the <a href="https://cs61a.org/lab/lab08/ok">Ok</a> autograder.</p>


<h2 id="submission">Submission</h2>

<p>By the end of this lab, you should have submitted the lab with
<code>python3 ok --submit</code>. You may submit more than once before the
deadline; only the final submission will be graded.
Check that you have successfully submitted your code on
<a href="https://okpy.org/">okpy.org</a>.</p>

<ul>
  <li>To receive credit for this lab, you must complete Questions 1, 2, 3, and 4 in
  <a href="https://cs61a.org/lab/lab08/lab08.py">lab08.py</a> and submit through Ok.</li>
  <li>The remaining questions are <em>extra practice</em>. They can be found in the
  <a href="https://cs61a.org/lab/lab08/lab08_extra.py">lab08_extra.py</a> file. It is recommended that you complete
  these problems on your own time.</li>
</ul>



    
<h1 id="required-questions">Required Questions</h1>


<p><em>Note:</em> For your reference, the <code>Link</code> and <code>Tree</code> classes can be found at the bottom 
of <a href="https://cs61a.org/lab/lab08/lab08.py">lab08.py</a>.</p>


<h2 id="linked-lists">Linked Lists</h2>


<h3 class="question" id="q1">Q1: Deep Linked List Length</h3>

<p>A linked list that contains one or more linked lists as elements is called a
<em>deep</em> linked list. Write a function <code>deep_len</code> that takes in a (possibly deep)
linked list and returns the <em>deep length</em> of that linked list, which is the sum
of the deep length of all linked lists contained in a deep linked list.</p>

<blockquote><p><strong>Hint:</strong> Use <code>isinstance</code> to check if something is an instance of an object.</p></blockquote>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deep_len</span><span class="hljs-params">(lnk)</span>:</span>
    <span class="hljs-string">""" Returns the deep length of a possibly deep linked list.
    &gt;&gt;&gt; deep_len(Link(1, Link(2, Link(3))))
    3
    &gt;&gt;&gt; deep_len(Link(Link(1, Link(2)), Link(3, Link(4))))
    4
    &gt;&gt;&gt; levels = Link(Link(Link(1, Link(2)), \
            Link(3)), Link(Link(4), Link(5)))
    &gt;&gt;&gt; print(levels)
    &lt;&lt;&lt;1 2&gt; 3&gt; &lt;4&gt; 5&gt;
    &gt;&gt;&gt; deep_len(levels)
    5
    """</span>
<div class="alt solution-1">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-1">    <span class="hljs-keyword">if</span> lnk <span class="hljs-keyword">is</span> Link.empty:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-keyword">not</span> isinstance(lnk, Link):
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> deep_len(lnk.first) + deep_len(lnk.rest)</div></code></pre>


        <button id="solution-1" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q deep_len</code></pre>

<h3 class="question" id="q2">Q2: Linked Lists as Strings</h3>

<p>Kevin and Jerry like different ways of displaying the linked list
structure in Python. While Kevin likes box and pointer diagrams,
Jerry prefers a more futuristic way. Write a function
<code>make_to_string</code> that returns a function that converts the
linked list to a string in their preferred style.</p>

<p><em>Hint</em>:  You can convert numbers to strings using the <code>str</code> function,
and you can combine strings together using <code>+</code>.</p>

<pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; str(<span class="hljs-number">4</span>)
<span class="hljs-string">'4'</span>
<span class="hljs-meta">&gt;&gt;</span>&gt; <span class="hljs-string">'cs '</span> + str(<span class="hljs-number">61</span>) + <span class="hljs-string">'a'</span>
<span class="hljs-string">'cs 61a'</span></code></pre>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_to_string</span><span class="hljs-params">(front, mid, back, empty_repr)</span>:</span>
    <span class="hljs-string">""" Returns a function that turns linked lists to strings.

    &gt;&gt;&gt; kevins_to_string = make_to_string("[", "|-]--&gt;", "", "[]")
    &gt;&gt;&gt; jerrys_to_string = make_to_string("(", " . ", ")", "()")
    &gt;&gt;&gt; lst = Link(1, Link(2, Link(3, Link(4))))
    &gt;&gt;&gt; kevins_to_string(lst)
    '[1|-]--&gt;[2|-]--&gt;[3|-]--&gt;[4|-]--&gt;[]'
    &gt;&gt;&gt; kevins_to_string(Link.empty)
    '[]'
    &gt;&gt;&gt; jerrys_to_string(lst)
    '(1 . (2 . (3 . (4 . ()))))'
    &gt;&gt;&gt; jerrys_to_string(Link.empty)
    '()'
    """</span>
<div class="alt solution-2">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-2">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printer</span><span class="hljs-params">(lnk)</span>:</span>
        <span class="hljs-keyword">if</span> lnk <span class="hljs-keyword">is</span> Link.empty:
            <span class="hljs-keyword">return</span> empty_repr
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> front + str(lnk.first) + mid + printer(lnk.rest) + back
    <span class="hljs-keyword">return</span> printer</div></code></pre>


        <button id="solution-2" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q make_to_string</code></pre>


<h2 id="trees">Trees</h2>


<h3 class="question" id="q3">Q3: Tree Map</h3>

<p>Define the function <code>tree_map</code>, which takes in a tree and a
one-argument function as arguments and returns a new tree which is the
result of mapping the function over the entries of the input tree.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tree_map</span><span class="hljs-params">(fn, t)</span>:</span>
    <span class="hljs-string">"""Maps the function fn over the entries of t and returns the
    result in a new tree.

    &gt;&gt;&gt; numbers = Tree(1,
    ...                [Tree(2,
    ...                      [Tree(3),
    ...                       Tree(4)]),
    ...                 Tree(5,
    ...                      [Tree(6,
    ...                            [Tree(7)]),
    ...                       Tree(8)])])
    &gt;&gt;&gt; print(tree_map(lambda x: 2**x, numbers))
    2
      4
        8
        16
      32
        64
          128
        256
    """</span>
<div class="alt solution-3">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-3">    <span class="hljs-keyword">if</span> t.is_leaf():
        <span class="hljs-keyword">return</span> Tree(fn(t.label), [])
    mapped_subtrees = [tree_map(fn, b) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> t.branches]
    <span class="hljs-keyword">return</span> Tree(fn(t.label), mapped_subtrees)

<span class="hljs-comment"># Alternate solution</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tree_map</span><span class="hljs-params">(fn, t)</span>:</span>
    <span class="hljs-keyword">return</span> Tree(fn(t.label), [tree_map(fn, b) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> t.branches])</div></code></pre>


        <button id="solution-3" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q tree_map</code></pre>

<h3 class="question" id="q4">Q4: Add trees</h3>

<p>Define the function <code>add_trees</code>, which takes in two trees and returns a new
tree where each corresponding node from the first tree is added with the node
from the second tree. If a node at any particular position is present in one
tree but not the other, it should be present in the new tree as well.</p>

<p><em>Hint</em>: You may want to use the built-in zip function to iterate over multiple
sequences at once.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_trees</span><span class="hljs-params">(t1, t2)</span>:</span>
    <span class="hljs-string">"""
    &gt;&gt;&gt; numbers = Tree(1,
    ...                [Tree(2,
    ...                      [Tree(3),
    ...                       Tree(4)]),
    ...                 Tree(5,
    ...                      [Tree(6,
    ...                            [Tree(7)]),
    ...                       Tree(8)])])
    &gt;&gt;&gt; print(add_trees(numbers, numbers))
    2
      4
        6
        8
      10
        12
          14
        16
    &gt;&gt;&gt; print(add_trees(Tree(2), Tree(3, [Tree(4), Tree(5)])))
    5
      4
      5
    &gt;&gt;&gt; print(add_trees(Tree(2, [Tree(3)]), Tree(2, [Tree(3), Tree(4)])))
    4
      6
      4
    &gt;&gt;&gt; print(add_trees(Tree(2, [Tree(3, [Tree(4), Tree(5)])]), \
    Tree(2, [Tree(3, [Tree(4)]), Tree(5)])))
    4
      6
        8
        5
      5
    """</span>
<div class="alt solution-4">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-4">    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> t1:
        <span class="hljs-keyword">return</span> t2.copy_tree() 
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> t2:
        <span class="hljs-keyword">return</span> t1.copy_tree()
    new_label = t1.label + t2.label
    t1_branches, t2_branches = list(t1.branches), list(t2.branches)
    length_t1, length_t2 = len(t1_branches), len(t2_branches)
    <span class="hljs-keyword">if</span> length_t1 &lt; length_t2:
        t1_branches += [<span class="hljs-keyword">None</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(length_t1, length_t2)]
    <span class="hljs-keyword">elif</span> length_t1 &gt; length_t2:
        t2_branches += [<span class="hljs-keyword">None</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(length_t2, length_t1)]
    <span class="hljs-keyword">return</span> Tree(new_label, [add_trees(branch1, branch2) <span class="hljs-keyword">for</span> branch1, branch2 <span class="hljs-keyword">in</span> zip(t1_branches, t2_branches)])</div></code></pre>


        <button id="solution-4" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q add_trees</code></pre>


<h1 id="optional-questions">Optional Questions</h1>


<h2 id="objects">Objects</h2>


<h3 class="question" id="q5">Q5: WWPP: Methods</h3>

<blockquote><p>Use Ok to test your knowledge with the following "What Would Python Print?"
questions:</p>

<pre><code class="hljs nginx"><span class="hljs-attribute">python3</span> ok -q foobar -u</code></pre>

<p><em>Hint</em>: Remember for all WWPP questions, enter <code>Function</code> if you believe the
answer is <code>&lt;function ...&gt;</code> and <code>Error</code> if it errors.</p></blockquote>

<pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
...     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_one</span><span class="hljs-params">(<span class="hljs-keyword">self</span>)</span></span>:
...         print(<span class="hljs-string">'foo'</span>)
...     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_two</span><span class="hljs-params">()</span></span>:
...         print(<span class="hljs-string">'foofoo'</span>)
<span class="hljs-meta">&gt;&gt;</span>&gt; f = Foo()
<span class="hljs-meta">&gt;&gt;</span>&gt; f.print_one()
<div class="alt prompt-1">______</div><div class="solution prompt-1">foo</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; f.print_two()
<div class="alt prompt-1">______</div><div class="solution prompt-1">Error</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Foo.print_two()
<div class="alt prompt-1">______</div><div class="solution prompt-1">foofoo</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span>(<span class="hljs-title">Foo</span>):</span>
...     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_one</span><span class="hljs-params">(<span class="hljs-keyword">self</span>)</span></span>:
...         print(<span class="hljs-string">'bar'</span>)
<span class="hljs-meta">&gt;&gt;</span>&gt; b = Bar()
<span class="hljs-meta">&gt;&gt;</span>&gt; b.print_one()
<div class="alt prompt-1">______</div><div class="solution prompt-1">bar</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Bar.print_two()
<div class="alt prompt-1">______</div><div class="solution prompt-1">foofoo</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Bar.print_one = lambda <span class="hljs-symbol">x:</span> print(<span class="hljs-string">'new bar'</span>)
<span class="hljs-meta">&gt;&gt;</span>&gt; b.print_one()
<div class="alt prompt-1">______</div><div class="solution prompt-1">new bar</div></code></pre>
        <button id="prompt-1" class="btn btn-outline btn-lg toggle prompt" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<h3 class="question" id="q6">Q6: WWPP: Attributes</h3>

<blockquote><p>Use Ok to test your knowledge with the following "What Would Python Print?"
questions:</p>

<pre><code class="hljs nginx"><span class="hljs-attribute">python3</span> ok -q attributes -u</code></pre>

<p><em>Hint</em>: Remember for all WWPP questions, enter <code>Function</code> if you believe the
answer is <code>&lt;function ...&gt;</code> and <code>Error</code> if it errors.</p></blockquote>

<pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
...     a = <span class="hljs-number">10</span>
...     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(<span class="hljs-keyword">self</span>, a)</span></span>:
...         <span class="hljs-keyword">self</span>.a = a
<span class="hljs-meta">&gt;&gt;</span>&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span>(<span class="hljs-title">Foo</span>):</span>
...     b = <span class="hljs-number">1</span>
<span class="hljs-meta">&gt;&gt;</span>&gt; a = Foo(<span class="hljs-number">5</span>)
<span class="hljs-meta">&gt;&gt;</span>&gt; b = Bar(<span class="hljs-number">2</span>)
<span class="hljs-meta">&gt;&gt;</span>&gt; a.a
<div class="alt prompt-2">______</div><div class="solution prompt-2">5</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; b.a
<div class="alt prompt-2">______</div><div class="solution prompt-2">2</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Foo.a
<div class="alt prompt-2">______</div><div class="solution prompt-2">1<span class="hljs-number">0</span></div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Bar.b
<div class="alt prompt-2">______</div><div class="solution prompt-2">1</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Bar.a
<div class="alt prompt-2">______</div><div class="solution prompt-2">1<span class="hljs-number">0</span></div>
<span class="hljs-meta">&gt;&gt;</span>&gt; b.b
<div class="alt prompt-2">______</div><div class="solution prompt-2">1</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Foo.c = <span class="hljs-number">15</span>
<span class="hljs-meta">&gt;&gt;</span>&gt; Foo.c
<div class="alt prompt-2">______</div><div class="solution prompt-2">15</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; a.c
<div class="alt prompt-2">______</div><div class="solution prompt-2">15</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; b.c
<div class="alt prompt-2">______</div><div class="solution prompt-2">15</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Bar.c
<div class="alt prompt-2">______</div><div class="solution prompt-2">15</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; b.b = <span class="hljs-number">3</span>
<span class="hljs-meta">&gt;&gt;</span>&gt; b.b
<div class="alt prompt-2">______</div><div class="solution prompt-2">3</div>
<span class="hljs-meta">&gt;&gt;</span>&gt; Bar.b
<div class="alt prompt-2">______</div><div class="solution prompt-2">1</div></code></pre>
        <button id="prompt-2" class="btn btn-outline btn-lg toggle prompt" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<h3 class="question" id="q7">Q7: Keyboard</h3>

<p>We'd like to create a <code>Keyboard</code> class that takes in an arbitrary
number of <code>Button</code>s and stores these <code>Button</code>s in a dictionary. The
keys in the dictionary will be ints that represent the postition on the
<code>Keyboard</code>, and the values will be the respective <code>Button</code>. Fill out
the methods in the <code>Keyboard</code> class according to each description,
using the doctests as a reference for the behavior of a <code>Keyboard</code>.</p>



<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Keyboard</span>:</span>
    <span class="hljs-string">"""A Keyboard takes in an arbitrary amount of buttons, and has a
    dictionary of positions as keys, and values as Buttons.

    &gt;&gt;&gt; b1 = Button(0, "H")
    &gt;&gt;&gt; b2 = Button(1, "I")
    &gt;&gt;&gt; k = Keyboard(b1, b2)
    &gt;&gt;&gt; k.buttons[0].key
    'H'
    &gt;&gt;&gt; k.press(1)
    'I'
    &gt;&gt;&gt; k.typing([0, 1])
    'HI'
    &gt;&gt;&gt; k.typing([1, 0])
    'IH'
    &gt;&gt;&gt; b1.pressed
    2
    &gt;&gt;&gt; b2.pressed
    3
    """</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, *args)</span>:</span>
<div class="alt solution-5">        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-5">        self.buttons = {}
        <span class="hljs-keyword">for</span> button <span class="hljs-keyword">in</span> args:
            self.buttons[button.pos] = button</div>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">press</span><span class="hljs-params">(self, info)</span>:</span>
        <span class="hljs-string">"""Takes in a position of the button pressed, and
        returns that button's output"""</span>
<div class="alt solution-5">        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-5">        <span class="hljs-keyword">if</span> info <span class="hljs-keyword">in</span> self.buttons.keys():
            b = self.buttons[info]
            b.pressed += <span class="hljs-number">1</span>
            <span class="hljs-keyword">return</span> b.key
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span></div>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">typing</span><span class="hljs-params">(self, typing_input)</span>:</span>
        <span class="hljs-string">"""Takes in a list of positions of buttons pressed, and
        returns the total output"""</span>
<div class="alt solution-5">        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-5">        accumulate = <span class="hljs-string">''</span>
        <span class="hljs-keyword">for</span> pos <span class="hljs-keyword">in</span> typing_input:
            accumulate+=self.press(pos)
        <span class="hljs-keyword">return</span> accumulate</div>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Button</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, pos, key)</span>:</span>
        self.pos = pos
        self.key = key
        self.pressed = <span class="hljs-number">0</span></code></pre>


        <button id="solution-5" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q Keyboard</code></pre>


<h2 id="nonlocal">Nonlocal</h2>

<h3 class="question" id="q8">Q8: Advanced Counter</h3>

<p>Complete the definition of <code>make_advanced_counter_maker</code>,
which creates a function that creates counters. These counters can not
only update their personal count, but also a shared count for all
counters.  They can also reset either count.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_advanced_counter_maker</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""Makes a function that makes counters that understands the
    messages "count", "global-count", "reset", and "global-reset".
    See the examples below:

    &gt;&gt;&gt; make_counter = make_advanced_counter_maker()
    &gt;&gt;&gt; tom_counter = make_counter()
    &gt;&gt;&gt; tom_counter('count')
    1
    &gt;&gt;&gt; tom_counter('count')
    2
    &gt;&gt;&gt; tom_counter('global-count')
    1
    &gt;&gt;&gt; jon_counter = make_counter()
    &gt;&gt;&gt; jon_counter('global-count')
    2
    &gt;&gt;&gt; jon_counter('count')
    1
    &gt;&gt;&gt; jon_counter('reset')
    &gt;&gt;&gt; jon_counter('count')
    1
    &gt;&gt;&gt; tom_counter('count')
    3
    &gt;&gt;&gt; jon_counter('global-count')
    3
    &gt;&gt;&gt; jon_counter('global-reset')
    &gt;&gt;&gt; tom_counter('global-count')
    1
    """</span>
<div class="alt solution-6">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-6">    global_count = <span class="hljs-number">0</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_counter</span><span class="hljs-params">()</span>:</span>
        count = <span class="hljs-number">0</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">counter</span><span class="hljs-params">(msg)</span>:</span>
            <span class="hljs-keyword">nonlocal</span> global_count, count
            <span class="hljs-keyword">if</span> msg == <span class="hljs-string">'count'</span>:
                count += <span class="hljs-number">1</span>
                <span class="hljs-keyword">return</span> count
            <span class="hljs-keyword">elif</span> msg == <span class="hljs-string">'reset'</span>:
                count = <span class="hljs-number">0</span>
            <span class="hljs-keyword">elif</span> msg == <span class="hljs-string">'global-count'</span>:
                global_count += <span class="hljs-number">1</span>
                <span class="hljs-keyword">return</span> global_count
            <span class="hljs-keyword">elif</span> msg == <span class="hljs-string">'global-reset'</span>:
                global_count = <span class="hljs-number">0</span>
        <span class="hljs-keyword">return</span> counter
    <span class="hljs-keyword">return</span> make_counter</div></code></pre>


        <button id="solution-6" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q make_advanced_counter_maker</code></pre>


<h2 id="lists">Lists</h2>

<h3 class="question" id="q9">Q9: Trade</h3>

<p>In the integer market, each participant has a list of positive integers to
trade. When two participants meet, they trade the smallest non-empty prefix of
their list of integers. A prefix is a slice that starts at index
0.</p>

<p>Write a function <code>trade</code> that exchanges the first <code>m</code> elements of list <code>first</code>
with the first <code>n</code> elements of list <code>second</code>, such that the sums of those
elements are equal, and the sum is as small as possible. If no such prefix
exists, return the string <code>'No deal!'</code> and do not change either list. Otherwise
change both lists and return <code>'Deal!'</code>. A partial implementation is provided.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">trade</span><span class="hljs-params">(first, second)</span>:</span>
    <span class="hljs-string">"""Exchange the smallest prefixes of first and second that have equal sum.

    &gt;&gt;&gt; a = [1, 1, 3, 2, 1, 1, 4]
    &gt;&gt;&gt; b = [4, 3, 2, 7]
    &gt;&gt;&gt; trade(a, b) # Trades 1+1+3+2=7 for 4+3=7
    'Deal!'
    &gt;&gt;&gt; a
    [4, 3, 1, 1, 4]
    &gt;&gt;&gt; b
    [1, 1, 3, 2, 2, 7]
    &gt;&gt;&gt; c = [3, 3, 2, 4, 1]
    &gt;&gt;&gt; trade(b, c)
    'No deal!'
    &gt;&gt;&gt; b
    [1, 1, 3, 2, 2, 7]
    &gt;&gt;&gt; c
    [3, 3, 2, 4, 1]
    &gt;&gt;&gt; trade(a, c)
    'Deal!'
    &gt;&gt;&gt; a
    [3, 3, 2, 1, 4]
    &gt;&gt;&gt; b
    [1, 1, 3, 2, 2, 7]
    &gt;&gt;&gt; c
    [4, 3, 1, 4, 1]
    """</span>
    m, n = <span class="hljs-number">1</span>, <span class="hljs-number">1</span>

<div class="alt solution-7">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-7">    equal_prefix = <span class="hljs-keyword">lambda</span>: sum(first[:m]) == sum(second[:n])
    <span class="hljs-keyword">while</span> m &lt; len(first) <span class="hljs-keyword">and</span> n &lt; len(second) <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> equal_prefix():
        <span class="hljs-keyword">if</span> sum(first[:m]) &lt; sum(second[:n]):
            m += <span class="hljs-number">1</span>
        <span class="hljs-keyword">else</span>:
            n += <span class="hljs-number">1</span></div>
<div class="alt solution-7">    <span class="hljs-keyword">if</span> <span class="hljs-keyword">False</span>: <span class="hljs-comment"># change this line!</span>
</div><div class="solution solution-7">    <span class="hljs-keyword">if</span> equal_prefix():</div>        first[:m], second[:n] = second[:n], first[:m]
        <span class="hljs-keyword">return</span> <span class="hljs-string">'Deal!'</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">'No deal!'</span></code></pre>


        <button id="solution-7" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q trade</code></pre>


<h2 id="orders-of-growth">Orders of Growth</h2>

<h3 class="question" id="q10">Q10: Zap (Orders of Growth)</h3>

<p>What is the order of growth in time for the following function <code>zap</code>? Use big-θ notation.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">zap</span><span class="hljs-params">(n)</span>:</span>
    i, count = <span class="hljs-number">1</span>, <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> i &lt;= n:
        <span class="hljs-keyword">while</span> i &lt;= <span class="hljs-number">5</span> * n:
            count += i
            print(i / <span class="hljs-number">6</span>)
            i *= <span class="hljs-number">3</span>
    <span class="hljs-keyword">return</span> count</code></pre>

<div class="solution solution-8">

<p>θ(log <em>n</em>)</p>

<p>Here, the stopping condition of both loops rely on the same variable <code>i</code>. 
You might notice that completion of the inner loop will guarantee completion
of the outer loop; after all, if <code>i</code> is greater than <code>5 * n</code>, 
then it will be greater than <code>n</code>. Therefore, the overall runtime is just the runtime
of the inner loop. Since <code>i</code> begins at 1 and is multiplied by 3 at every
iteration of the inner loop, the inner loop will have <code>log n</code> iterations overall. Each
iteration does contant work, so the overall runtime will be <code>log n</code>.</p>

</div>
        <button id="solution-8" class="btn btn-outline btn-lg toggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

  </div>

  <div class="col-md-3 sticky">
    <nav class="hidden-print hidden-sm hidden-xs sidebar">
      <ul class="nav nav-stacked noselect">
  <li><a href="https://cs61a.org/lab/lab08/#required-questions">Required Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/lab08/#linked-lists">Linked Lists</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q1">Q1: Deep Linked List Length</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q2">Q2: Linked Lists as Strings</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#trees">Trees</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q3">Q3: Tree Map</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q4">Q4: Add trees</a></li>
    </ul>
  </ul>
  <li><a href="https://cs61a.org/lab/lab08/#optional-questions">Optional Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/lab08/#objects">Objects</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q5">Q5: WWPP: Methods</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q6">Q6: WWPP: Attributes</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q7">Q7: Keyboard</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#nonlocal">Nonlocal</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q8">Q8: Advanced Counter</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#lists">Lists</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q9">Q9: Trade</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#orders-of-growth">Orders of Growth</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q10">Q10: Zap (Orders of Growth)</a></li>
    </ul>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/resources.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/studying.html">Studying Guide</a></li>
            <li><a href="https://cs61a.org/articles/debugging.html">Debugging Guide</a></li>
            <li><a href="https://cs61a.org/articles/composition.html">Composition Guide</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/articles/about.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/about.html#assignments">Assignments</a></li>
            <li><a href="https://cs61a.org/articles/about.html#exams">Exams</a></li>
            <li><a href="https://cs61a.org/articles/about.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    


<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>


<script>
  $(function() {
    var staging_domains = ['staging.cs61a.org', 'localhost', '127.0.0.1'];

    var staging = staging_domains.indexOf(window.location.hostname) != -1;
    var after_due_date = new Date("10/15/2017") < new Date();
    var release_solutions = staging || after_due_date;

    if (release_solutions) {
      $('.toggle').css('display', 'inline-block');
      $('.toggle').click(function() {
        var solution_id = $(this).attr('id');
        $('div.' + solution_id).slideToggle(600);
      });
    }
  });
</script>


  
</body></html>